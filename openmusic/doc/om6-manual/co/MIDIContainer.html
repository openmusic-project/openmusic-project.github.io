<!doctype>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta charset="utf-8"></meta>
<meta name="generator" content="pandoc"></meta>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"></meta>
<title>MIDIContainer</title>
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
</head>
<body>
<div id="tplf" class="tplPage">

<div id="tplh">

<p><span class="hidden">Navigation générale : </span></p>
<ul>
<li><a href="OM-Documentation.html"><span>Guide</span></a></li>
<li><a href="OM-Documentation_1.html"><span>Plan</span></a></li>
<li><a href="OM-Documentation_2.html"><span>Glossaire</span></a></li>
</ul>
</div>

<div id="tplt">

<p><img src="../tplRes/page/empty.gif" alt="empty.gif"></img><img src="../res/logoom1.png" alt="logoom1.png"></img><span class="tplTi">OpenMusic Documentation</span><span class="sw_outStack_navRoot"><span class="hidden">Hiérarchie de section : </span><a href="OM-User-Manual.html"><span>OM 6.6 User Manual</span></a><span class="stkSep"> > </span><a href="MIDI.html"><span>MIDI</span></a><span class="stkSep"> > </span><a href="MIDI-Objects.html"><span>MIDI Objects</span></a><span class="stkSep"> > </span><span class="stkSel_yes"><span>MIDI Containers</span></span></span></p>
</div>

<div class="tplNav">

<p><span class="hidden">Navigation : </span><a href="MIDIEvent.html" title="page pr&eacute;c&eacute;dente(MIDI Events)"><span>page précédente</span></a><span class="hidden"> | </span><a href="Audio.html" title="page suivante(Audio)"><span>page suivante</span></a></p>
</div>

<div id="tplc" class="tplc_out_yes">

<div style="text-align: center;">

<p><strong>Attention</strong>, votre navigateur ne supporte pas le <strong>javascript</strong> ou celui-ci à été désactivé. Certaines fonctionnalités de ce guide sont restreintes.</p>
</div>

<div class="headCo">

<h1 id="midi-containers"><span>MIDI Containers</span></h1>
<div class="headCo_co">

<div>

<div class="infobloc">

<div class="txt">

<p>The MIDI containers are objects constituted of a set of simultaneous or sequencial MIDI events representing intermediate-level musical objects.</p>
</div>

</div>

<div class="bloc note">

<div class="bloc_ti note_ti">

<p><span>General Properties of MIDI Containers</span></p>
</div>

<div class="txt">

<p>All these objects can be played and processed as musical object.</p>
<p>The list of MIDIEvents can be extracted (and possibly filtered) using <strong>get-MidiEvents</strong>.</p>
</div>

</div>

<div class="part">

<h2 id="midi-events-sequences--eventmidi-seq"><span>MIDI Events Sequences : EventMidi-seq</span></h2>
<div class="part_co">

<div class="infobloc">

<div class="caption">

<div class="caption_co">

<p><img src="../res/eventmidi-seq.png" alt="eventmidi-seq.png"></img></p>
</div>

</div>

<div class="txt">

<p>The <strong>EventMidi-seq</strong> object represents a sequence of MIDI events. Its slots are lists of the corresponding MidiEvent slots (types, dates, tracks, ports, channels, fields).</p>
<p>It can store all types of MidiEvents (notes, controllers, etc..) and in this way can be compared to a buffered version of the MidiFile object. The main difference is that EventMidi-seq is a not written on hard disk as a file, so it can be manipulated more easily.</p>
<p><strong>EventMidi-seq</strong> will be usefull for temporary storage of filtered or processed MIDI data.</p>
</div>

<div class="txt">

<p>An <strong>EventMidi-seq</strong> can be constructed by setting its input slots or from a list of <strong>MidiEvents</strong>, hence from the result of <strong>get-MidiEvents</strong> applyed to an object.</p>
<p>An equivalent "shortcut" procedure, except if MIDIEvents are to be filtered, is to connect the objects directly to the first () slot of the <strong>EventMIDI-seq</strong>.</p>
</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>About MIDI Event Objects and Extracting/Filtering</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="MIDIEvent.html"><span>MIDI Events</span></a></li>
</ul>
</div>

</div>

</div>

<div class="bloc example">

<div class="bloc_ti example_ti">

<p><span>Using EventMIDI-seqs</span></p>
</div>

<div class="txt">

<p>In this example, MidiEvents are extracted from a MidiFile, and then filtered to separateand process channels. The resulting sequences are put in a new EventMidi-seq with a midi-mix-console object to add the initial settings events to the sequence.</p>
</div>

<div class="caption">

<div class="caption_co">

<p><a href="../res/sequences-ex.png" title="Cliquez pour agrandir"><img src="../res/sequences-ex_1.png" alt="sequences-ex_1.png"></img></a></p>
</div>

</div>

<div class="txt">

<p><strong>Note :</strong> Using the function c<strong>reate-midiseq</strong>, a list of MIDI events or an object is simply converted into EventMidi-seq, but the second (optional) input allows to set a name to the newly created sequence. This name will appear in the EventMidi-seq's miniview.</p>
</div>

</div>

<div class="bloc note">

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p>Events are normally automatically time-sorted in each <strong>EventMidi-seq</strong> conversion. However, manually created sequences can be sorted using the <strong>temporal-sort</strong> method.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/temporalsort.png" width="82" height="62" alt="temporalsort.png"></img>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

</div>

<div class="bloc example">

<div class="bloc_ti example_ti">

<p><span>Using EventMIDI-seqs for Score Object Processing</span></p>
</div>

<div class="txt">

<p>All OpenMusic score objects can be converted into MIDI sequences. Notes,a s well as tempo, measure markers for voice and poly objects, are converted in MIDI events. This conversion may allow special treatments (such as filters with <strong>get-midievents</strong> method, etc.) and operations on MidiEvents.</p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p>The function <strong>separate-channels</strong> processes all Events of the EventMidi-seq and put each channel on a diferent track.</p>
<p>In the following example, we separate notes of different channels in a chord-seq into diferent multi-seq tracks via MidiEvents processing.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/separatechannels.png" width="112" height="65" alt="separatechannels.png"></img>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="caption">

<div class="caption_co">

<p><img src="../res/separatechannels-ex.png" alt="separatechannels-ex.png"></img></p>
</div>

</div>

</div>

</div>

</div>

<div class="part">

<h2 id="midi-controllers--midicontrol--midi-mix-console"><span>MIDI Controllers : MIDIControl / MIDI-Mix-Console</span></h2>
<div class="part_co">

<div class="infobloc">

<div class="txt">

<p>MIDI Controllers send messages changing the state of one or several MIDI Channels. There exist two main MIDI Controller containers in OM.</p>
</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>About MIDI Control Messages</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="MIDI-Concepts.html"><span>Important MIDI Concepts</span></a></li>
</ul>
</div>

</div>

</div>

<div class="infobloc">

<div class="infobloc_ti">

<p><span>MIDIControl</span></p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p><strong>MidiControl</strong> is a special case of Midi Sequence representing a single MIDI <strong>continuous controller</strong> evolution. Such controller can be PitchBend, or any kind of Control Change. It contains a single event type, a single channel, port and track, and a list of dates and values.</p>
<p>MidiControl is actually a sub-class of <strong>BPF</strong> controlling a given MIDI parameter.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/midicontrol.png" width="88" height="71" alt="midicontrol.png"></img>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="txt">

<p>A List of controllers is proposed as an input menu for the first input (controller type) of the <strong>MidiControl</strong> box.</p>
<p>Channel, port an track can be numbers or lists : In this case the same continuous controller (dates/values) applies to all the channels/ports/tracks of the lists.</p>
<p>Dates/values can be edited with the BPF editor.</p>
</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>BPFs and BPF Editor</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="BPF-BPC.html"><span>2D Objects : BPF / BPC</span></a></li>
<li><a href="BPFEditors.html"><span>BPFs and BPCs Editors</span></a></li>
</ul>
</div>

</div>

</div>

<div class="bloc example">

<div class="bloc_ti example_ti">

<p><span>Using a MIDIControl in a Maquette</span></p>
</div>

<div class="txt">

<p>The following example shows a Channel Volume controller in a maquette.</p>
</div>

<div class="caption">

<div class="caption_co">

<p><img src="../res/maqcontrol.png" alt="maqcontrol.png"></img></p>
</div>

</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>About the Maquette</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="Maquettes.html"><span>Maquettes</span></a></li>
</ul>
</div>

</div>

</div>

<div class="bloc complement">

<div class="bloc_ti complement_ti">

<p><span>Continuous Controllers values</span></p>
</div>

<div class="txt">

<p>Most of the controllers are classical MIDI ControlChange controllers for which values must be given in 0 – 127 range (7 bits).</p>
<p>(For On/Off switch controllers, value < 64 means "off", and value >= 64 means "on".)</p>
<p>Some of them (controllers 0 to 31) have a corresponding "Fine" controller (32 to 63) for which values must be set in 0 – 16384 range (14 bits).</p>
<p>The PitchBend controller is value range is –64 to 63, and –8182 to 8191 for "fine" pitchbend (also called pitchwheel).</p>
</div>

</div>

<div class="bloc complement">

<div class="bloc_ti complement_ti">

<p><span>Extracting Controllers</span></p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p>A <strong>MidiControl</strong> object can be extracted from Midifile or EventMidi-seq using the <strong>get-continuous-ctrl</strong> method.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/getcontrol.png" width="213" height="282" alt="Channel volume controller extracted from a MidiFile"></img>
</div>
<div class="caption_ti">
Channel volume controller extracted from a MidiFile
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

</div>

<div class="bloc complement">

<div class="bloc_ti complement_ti">

<p><span>Resampling a MIDI Controller</span></p>
</div>

<div class="txt">

<p>The <strong>MidiControl</strong> dates-values BPF can be resampled using <strong>OM-SAMPLE</strong> method. This function create a new control BPF with a regular given sample rate.</p>
</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>Resampling and Other Operations of BPF Objects</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="Tools.html"><span>BPF and BPC Tools</span></a></li>
</ul>
</div>

</div>

</div>

<div class="infobloc">

<div class="infobloc_ti">

<p><span>MIDI-Mix-Console</span></p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p>MIDI-Mix-Console represents a set of simultaneous MIDI Events set at once to a given port.</p>
<p>It can be set manually thanks to a multi-channel mixing console interface and used as MIDI setup storage for playback or creation of MIDI objects.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/controller-Box.png" width="141" height="94" alt="controller-Box.png"></img>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="caption">

<div class="caption_co">

<p><a href="../res/controller.png" title="Cliquez pour agrandir"><img src="../res/controller_1.png" alt="controller_1.png"></img></a></p>
</div>

</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>More About the MIDI-Mix-Console</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="MIDI-Controls.html"><span>MIDI Player Controls</span></a></li>
</ul>
</div>

</div>

</div>

</div>

</div>

<div class="part">

<h2 id="tempo-and-metrics"><span>Tempo and Metrics</span></h2>
<div class="part_co">

<div class="infobloc">

<div class="infobloc_ti">

<p><span>The Tempo-Map Box</span></p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p><strong>Tempo-Map</strong> allows the separation of tempo and metric information for works on quantification and analysis.</p>
<p>It contains a list of tempo changes (date , tempo), and a list of measure markers (date, MIDI time signature).</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/tempomap.png" width="90" height="71" alt="tempomap.png"></img>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p><strong>Tempo-Map</strong> can be extracted from any type of musical or MIDI containers (provided it contains tempo or metric information : MidiFile, EventMidi-seq, Voice, Poly, Measure) using <strong>get-tempomap</strong> method.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/gettempomap.png" width="80" height="65" alt="gettempomap.png"></img>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="txt">

<p>It can be processed like other MIDI objects (conversions, get-midievents,...)</p>
</div>

</div>

<div class="infobloc">

<div class="infobloc_ti">

<p><span>Improving Quantification</span></p>
</div>

<div class="txt">

<p>With <strong>Tempo-Map</strong>, Chord-seq to Voice conversion can be improved via the <strong>cseq+tempo->voice</strong> method. The tempo and measure informations will be used to quantify chords.</p>
</div>

</div>

<div class="bloc example">

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p>In this example, notes and tempo map are extracted from a MIDIFile (could be from a voice, for example). Notes are processed as chord-seq and then re-written in a voice using the initial tempo and metric informations.</p>
<p>However, tempo information is used with some limits :</p>
<ul>
<li><p>A MIDI file cannot contain different tempo maps for each track : if a poly with different tempo is saved, all tracks are set to tempo 60.</p></li>
<li><p>Voice and poly conversions do not (yet ?) accept tempo changes. If a MidiFile with variable tempo is conevrted to a voice, only the first tempo will be taken in account.</p></li>
</ul>
</div></td>
<td><div class="caption">
<div class="caption_co">
<a href="../res/cs%20tempo.png" class="overLnk" title="Cliquez pour agrandir"><img src="../res/cs%20tempo_1.png" width="236" height="300" alt="cs%20tempo_1.png"></img></a>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>

</div>

</div>

</div>

</div>

<p><span class="hidden">Références : </span></p>
</div>

<div id="tplo" class="tplo_out_yes">

<div class="tplOTp">

<div class="tplOBm">

<div id="mnuFrm">

<p><span class="hidden">Plan :</span></p>
<div id="mnuFrmUp" onmouseout="menuScrollTiTask.fSpeed=0;" onmouseover="if(menuScrollTiTask.fSpeed&gt;=0) {menuScrollTiTask.fSpeed=-2; scTiLib.addTaskNow(menuScrollTiTask);}" onclick="menuScrollTiTask.fSpeed-=2;" style="display: none;">

<p><span id="mnuFrmUpLeft"><a href="#"></a></span><span id="mnuFrmUpCenter"></span><span id="mnuFrmUpRight"></span></p>
</div>

<div id="mnuScroll">

<ul>
<li><a href="OM-Documentation.html"><span>OpenMusic Documentation</span></a></li>
<li><a href="OM-User-Manual.html"><span>OM 6.6 User Manual</span></a>
<ul>
<li><a href="00-Sommaire.html"><span>Introduction</span></a></li>
<li><a href="Installation.html"><span>System Configuration and Installation</span></a></li>
<li><a href="Goingthrough.html"><span>Going Through an OM Session</span></a></li>
<li><a href="Environment.html"><span>The OM Environment</span></a></li>
<li><a href="BasicVisualProgramming.html"><span>Visual Programming I</span></a></li>
<li><a href="AdvancedVisualProgramming.html"><span>Visual Programming II</span></a></li>
<li><a href="BasicObjects.html"><span>Basic Tools</span></a></li>
<li><a href="ScoreObjects.html"><span>Score Objects</span></a></li>
<li><a href="Maquettes.html"><span>Maquettes</span></a></li>
<li><a href="Sheet.html"><span>Sheet</span></a></li>
<li><a href="MIDI.html"><span>MIDI</span></a>
<ul>
<li><a href="Intro.html"><span>Introduction</span></a></li>
<li><a href="MIDI-Concepts.html"><span>Important MIDI Concepts</span></a></li>
<li><a href="MIDI-Playback.html"><span>Rendering and Playback</span></a></li>
<li><a href="MIDI-Objects.html"><span>MIDI Objects</span></a>
<ul>
<li><a href="MIDIFile.html"><span>MIDI File</span></a></li>
<li><a href="MIDIEvent.html"><span>MIDI Events</span></a></li>
<li><span id="i3" class="outLeftSel_yes"><span>MIDI Containers</span></span></li>
</ul></li>
</ul></li>
<li><a href="Audio.html"><span>Audio</span></a></li>
<li><a href="SDIF.html"><span>SDIF</span></a></li>
<li><a href="Lisp.html"><span>Lisp Programming</span></a></li>
<li><a href="errors.html"><span>Errors and Problems</span></a></li>
</ul></li>
<li><a href="QuickStart-Chapters.html"><span>OpenMusic QuickStart</span></a></li>
</ul>
</div>

<div id="mnuFrmDown" onmouseout="menuScrollTiTask.fSpeed=0;" onmouseover="if(menuScrollTiTask.fSpeed&lt;=0) {menuScrollTiTask.fSpeed=2; scTiLib.addTaskNow(menuScrollTiTask);}" onclick="menuScrollTiTask.fSpeed+=2;" style="display: none;">

<p><span id="mnuFrmDownLeft"><a href="#"></a></span><span id="mnuFrmDownCenter"></span><span id="mnuFrmDownRight"></span></p>
</div>

</div>

</div>

</div>

</div>

<div class="tplNav">

<p><span class="hidden">Navigation : </span><a href="MIDIEvent.html" title="page pr&eacute;c&eacute;dente(MIDI Events)"><span>page précédente</span></a><span class="hidden"> | </span><a href="Audio.html" title="page suivante(Audio)"><span>page suivante</span></a></p>
</div>

<div id="tplb">

<p><a href="OM-Documentation_3.html"><span>A propos...</span></a>(c) Ircam - Centre Pompidou</p>
</div>

</div>
</body>
</html>
</!doctype>
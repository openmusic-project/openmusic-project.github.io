<!doctype>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta charset="utf-8"></meta>
<meta name="generator" content="pandoc"></meta>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"></meta>
<title>LispFunctions</title>
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
</head>
<body>
<div id="tplf" class="tplPage">

<div id="tplh">

<p><span class="hidden">Navigation générale : </span></p>
<ul>
<li><a href="OM-Documentation.html"><span>Guide</span></a></li>
<li><a href="OM-Documentation_1.html"><span>Plan</span></a></li>
<li><a href="OM-Documentation_2.html"><span>Glossaire</span></a></li>
</ul>
</div>

<div id="tplt">

<p><img src="../tplRes/page/empty.gif" alt="empty.gif"></img><img src="../res/logoom1.png" alt="logoom1.png"></img><span class="tplTi">OpenMusic Documentation</span><span class="sw_outStack_navRoot"><span class="hidden">Hiérarchie de section : </span><a href="OM-User-Manual.html"><span>OM 6.6 User Manual</span></a><span class="stkSep"> > </span><a href="Lisp.html"><span>Lisp Programming</span></a><span class="stkSep"> > </span><span class="stkSel_yes"><span>Lisp Function Boxes</span></span></span></p>
</div>

<div class="tplNav">

<p><span class="hidden">Navigation : </span><a href="LispInOM.html" title="page pr&eacute;c&eacute;dente(Lisp Code in OM)"><span>page précédente</span></a><span class="hidden"> | </span><a href="LowLevel.html" title="page suivante(Lisp Tools)"><span>page suivante</span></a></p>
</div>

<div id="tplc" class="tplc_out_yes">

<div style="text-align: center;">

<p><strong>Attention</strong>, votre navigateur ne supporte pas le <strong>javascript</strong> ou celui-ci à été désactivé. Certaines fonctionnalités de ce guide sont restreintes.</p>
</div>

<div class="headCo">

<h1 id="lisp-function-boxes"><span>Lisp Function Boxes</span></h1>
<div class="headCo_co">

<div>

<div class="infobloc">

<div class="txt">

<p>Writing a function or procedure in Lisp can be more convenient that the creation of a visual program. <strong>Lisp Function boxes</strong> are abstractions defined in Lisp textually. Like visual abstractions</p>
<ul>
<li><p>they can be internal to a patch <span class="iconButton_tim"><img src="../res/lispfunction_icon_1.png" alt="lispfunction_icon_1.png"></img></span> – red</p></li>
<li><p>or defined globally in the environment and workspace  <span class="iconButton_tim"><img src="../res/lispfunctionblue_icon.png" alt="lispfunctionblue_icon.png"></img></span>–blue.</p></li>
</ul>
</div>

</div>

<div class="part">

<h2 id="creating-lisp-functions"><span>Creating Lisp Functions</span></h2>
<div class="part_co">

<div class="infobloc">

<div class="infobloc_ti">

<p><span>Internal Lisp Function (Red)</span></p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="caption">
<div class="caption_co">
<img src="../res/addinternallisp.png" width="300" height="228" alt="addinternallisp.png"></img>
</div>
</div></td>
<td><div class="dk_txtRes_txt txt">
<p>To create a new Lisp function in a patch you can either</p>
<ul>
<li><p>use the contextual menu <code class="menuPath_tl">Internal / Lisp Function</code> in the patch editor</p></li>
<li><p>or <code class="keyboard_tl">Cmd</code> click and type "lisp".</p></li>
</ul>
<p>A new box will appear, with one output. It doesn't have a default input. This box behaves externally as a red patch box — internal abstraction —.</p>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>Internal Abstractions</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="RedAbstraction.html"><span>Internal Abstractions</span></a></li>
</ul>
</div>

</div>

</div>

<div class="infobloc">

<div class="infobloc_ti">

<p><span>Global Lisp Function (Blue)</span></p>
</div>

<div class="caption">

<div class="caption_co">

<p><img src="../res/addlispfunction.png" alt="addlispfunction.png"></img></p>
</div>

</div>

<div class="txt">

<p>To create a <strong>global Lisp Function</strong> like a patch or a maquette, use the <code>File / New Function</code> menu item in the workspace or folder windows.</p>
<p>The new Lisp function created here can be used in several locations, just like a blue patch. All its representations will refer to this same master function.</p>
</div>

<div class="txt">

<p>The box created will (externally) behave as a blue patch box.</p>
</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>Global Abstraction</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="BlueAbstraction.html"><span>Standard Abstraction</span></a></li>
</ul>
</div>

</div>

</div>

<div class="bloc note">

<div class="bloc_ti note_ti">

<p><span>Lisp Functions Conversion</span></p>
</div>

<div class="txt">

<p>Red and blue Lisp functions can also be converted with the standard patch conversion procedures.</p>
</div>

<div class="caption">

<div class="caption_co">

<p><img src="../res/internaliza.png" alt="internaliza.png"></img></p>
</div>

</div>

<div class="txt">

<p>To globalize a red lisp function, drag it to the workspace. The function will be converted automatically.</p>
<p>To rename the function, rename it from the workspace.</p>
</div>

<div class="caption">

<div class="caption_co">

<p><img src="../res/internalize.png" alt="internalize.png"></img></p>
</div>

</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p>To internalize a blue lisp function, select it and press <code class="keyboard_tl">a</code>. It can then be copied and renamed freely in the patch.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/renameinternalfunction.png" width="166" height="58" alt="renameinternalfunction.png"></img>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>Converting Internal/Global Abstractions</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="AbsConversion.html"><span>Conversions</span></a></li>
</ul>
</div>

</div>

</div>

</div>

</div>

<div class="part">

<h2 id="editing-lisp-functions"><span>Editing Lisp Functions</span></h2>
<div class="part_co">

<div class="infobloc">

<div class="infobloc_ti">

<p><span>Lisp Function Editor</span></p>
</div>

<div class="caption">

<div class="caption_co">

<p><img src="../res/editfunction.png" alt="editfunction.png"></img></p>
</div>

</div>

<div class="txt">

<p>Double click a Lisp Function box to edit its contents. The window that opens is similar to a Lisp editor.</p>
</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>The Lisp Editor</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="LispEditor.html"><span>Writing/Evaluating Lisp Code : The Lisp Editor</span></a></li>
</ul>
</div>

</div>

</div>

<div class="infobloc">

<div class="infobloc_ti">

<p><span>Writing Lisp Functions</span></p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p>The function must be written as a <strong>lambda expression</strong> with a given number of arguments. The editor provides a default basic edition pattern showing the components of such lambda expression.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/lambdapattern.png" width="300" height="28" alt="lambdapattern.png"></img>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>What is a Lambda Expression ?</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="LispIntro.html"><span>Introduction to Lisp</span></a></li>
</ul>
</div>

</div>

</div>

<div class="infobloc">

<div class="infobloc_ti">

<p><span>Arguments and Inputs</span></p>
</div>

<div class="caption">

<div class="caption_co">

<p><img src="../res/lambda1.png" alt="lambda1.png"></img></p>
</div>

</div>

<div class="txt">

<p>When the Lisp editor of the box is closed, the number of inputs is updated according to the number of arguments of the function, if arguments have been added or deleted.</p>
</div>

</div>

<div class="bloc note">

<div class="bloc_ti note_ti">

<p><span>Unique Output</span></p>
</div>

<div class="txt">

<p>Lisp functions can have only one output, which corresponds to the value returned by the Lambda expression.</p>
</div>

</div>

</div>

</div>

</div>

</div>

</div>

<p><span class="hidden">Références : </span></p>
</div>

<div id="tplo" class="tplo_out_yes">

<div class="tplOTp">

<div class="tplOBm">

<div id="mnuFrm">

<p><span class="hidden">Plan :</span></p>
<div id="mnuFrmUp" onmouseout="menuScrollTiTask.fSpeed=0;" onmouseover="if(menuScrollTiTask.fSpeed&gt;=0) {menuScrollTiTask.fSpeed=-2; scTiLib.addTaskNow(menuScrollTiTask);}" onclick="menuScrollTiTask.fSpeed-=2;" style="display: none;">

<p><span id="mnuFrmUpLeft"><a href="#"></a></span><span id="mnuFrmUpCenter"></span><span id="mnuFrmUpRight"></span></p>
</div>

<div id="mnuScroll">

<ul>
<li><a href="OM-Documentation.html"><span>OpenMusic Documentation</span></a></li>
<li><a href="OM-User-Manual.html"><span>OM 6.6 User Manual</span></a>
<ul>
<li><a href="00-Sommaire.html"><span>Introduction</span></a></li>
<li><a href="Installation.html"><span>System Configuration and Installation</span></a></li>
<li><a href="Goingthrough.html"><span>Going Through an OM Session</span></a></li>
<li><a href="Environment.html"><span>The OM Environment</span></a></li>
<li><a href="BasicVisualProgramming.html"><span>Visual Programming I</span></a></li>
<li><a href="AdvancedVisualProgramming.html"><span>Visual Programming II</span></a></li>
<li><a href="BasicObjects.html"><span>Basic Tools</span></a></li>
<li><a href="ScoreObjects.html"><span>Score Objects</span></a></li>
<li><a href="Maquettes.html"><span>Maquettes</span></a></li>
<li><a href="Sheet.html"><span>Sheet</span></a></li>
<li><a href="MIDI.html"><span>MIDI</span></a></li>
<li><a href="Audio.html"><span>Audio</span></a></li>
<li><a href="SDIF.html"><span>SDIF</span></a></li>
<li><a href="Lisp.html"><span>Lisp Programming</span></a>
<ul>
<li><a href="LispIntro.html"><span>Introduction to Lisp</span></a></li>
<li><a href="LispEditor.html"><span>The Lisp Editor</span></a></li>
<li><a href="LispListener.html"><span>The Listener</span></a></li>
<li><a href="LispInOM.html"><span>Lisp Code in OM</span></a></li>
<li><span id="i2" class="outLeftSel_yes"><span>Lisp Function Boxes</span></span></li>
<li><a href="LowLevel.html"><span>Lisp Tools</span></a></li>
<li><a href="LispUserLib.html"><span>Writing an OM Library</span></a></li>
<li><a href="LispForOM.html"><span>Writing Code for OM</span></a></li>
</ul></li>
<li><a href="errors.html"><span>Errors and Problems</span></a></li>
</ul></li>
<li><a href="QuickStart-Chapters.html"><span>OpenMusic QuickStart</span></a></li>
</ul>
</div>

<div id="mnuFrmDown" onmouseout="menuScrollTiTask.fSpeed=0;" onmouseover="if(menuScrollTiTask.fSpeed&lt;=0) {menuScrollTiTask.fSpeed=2; scTiLib.addTaskNow(menuScrollTiTask);}" onclick="menuScrollTiTask.fSpeed+=2;" style="display: none;">

<p><span id="mnuFrmDownLeft"><a href="#"></a></span><span id="mnuFrmDownCenter"></span><span id="mnuFrmDownRight"></span></p>
</div>

</div>

</div>

</div>

</div>

<div class="tplNav">

<p><span class="hidden">Navigation : </span><a href="LispInOM.html" title="page pr&eacute;c&eacute;dente(Lisp Code in OM)"><span>page précédente</span></a><span class="hidden"> | </span><a href="LowLevel.html" title="page suivante(Lisp Tools)"><span>page suivante</span></a></p>
</div>

<div id="tplb">

<p><a href="OM-Documentation_3.html"><span>A propos...</span></a>(c) Ircam - Centre Pompidou</p>
</div>

</div>
</body>
</html>
</!doctype>
<!doctype>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta charset="utf-8"></meta>
<meta name="generator" content="pandoc"></meta>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"></meta>
<title>FunctionBoxes</title>
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
</head>
<body>
<div id="tplf" class="tplPage">

<div id="tplh">

<p><span class="hidden">Navigation générale : </span></p>
<ul>
<li><a href="OM-Documentation.html"><span>Guide</span></a></li>
<li><a href="OM-Documentation_1.html"><span>Plan</span></a></li>
<li><a href="OM-Documentation_2.html"><span>Glossaire</span></a></li>
</ul>
</div>

<div id="tplt">

<p><img src="../tplRes/page/empty.gif" alt="empty.gif"></img><img src="../res/logoom1.png" alt="logoom1.png"></img><span class="tplTi">OpenMusic Documentation</span><span class="sw_outStack_navRoot"><span class="hidden">Hiérarchie de section : </span><a href="OM-User-Manual.html"><span>OM 6.6 User Manual</span></a><span class="stkSep"> > </span><a href="BasicVisualProgramming.html"><span>Visual Programming I</span></a><span class="stkSep"> > </span><a href="Boxes.html"><span>Boxes</span></a><span class="stkSep"> > </span><span class="stkSel_yes"><span>Function Boxes</span></span></span></p>
</div>

<div class="tplNav">

<p><span class="hidden">Navigation : </span><a href="DataBox.html" title="page pr&eacute;c&eacute;dente(Data Boxes)"><span>page précédente</span></a><span class="hidden"> | </span><a href="FactoryBoxes.html" title="page suivante(Objects &ndash; Factory Boxes)"><span>page suivante</span></a></p>
</div>

<div id="tplc" class="tplc_out_yes">

<div style="text-align: center;">

<p><strong>Attention</strong>, votre navigateur ne supporte pas le <strong>javascript</strong> ou celui-ci à été désactivé. Certaines fonctionnalités de ce guide sont restreintes.</p>
</div>

<div class="headCo">

<h1 id="function-boxes"><span>Function Boxes</span></h1>
<div class="headCo_co">

<div class="secOutFra">

<div class="secOutTi">

<p><a href="#"><span>Sommaire </span></a></p>
</div>

<div class="secOutUi">

<ol>
<li><a href="#uN44">Adding Functions in a Patch</a></li>
<li><a href="#uN9d">The Two Types of Functions : OM Functions and Lisp Functions</a></li>
<li><a href="#uN125">Box Inputs</a></li>
<li><a href="#uN1da">Box Outputs</a></li>
<li><a href="#uN2eb">Methods</a></li>
</ol>
</div>

</div>

<div>

<div class="infobloc">

<div class="txt">

<p>Functions are fundamental components of programs, and are some of the most important OM tools. A function box refers to an underlying function that allows to execute a given operation. It has a number of <span id="i5" class="defRef_ul"><span>arguments</span></span><sup><a href="#kFootBsktc2051"><span>[</span>1<span>]</span></a></sup>, or parameters, which generally represent data to be transformed.</p>
<p>There are two main types of function boxes : <strong>OM functions</strong> and <strong>Lisp functions</strong> . Both function types are used in patches following the same modalities.</p>
</div>

</div>

<div class="part">

<h2 id="adding-functions-in-a-patch"><span>Adding Functions in a Patch</span></h2>
<div class="part_co">

<div class="infobloc">

<div class="txt">

<p>Functions can be added</p>
<ul>
<li><p>via the <code>Functions</code> menu</p></li>
<li><p>the <a href="Library.html"><span>Library window</span></a></p></li>
<li><p>typing a name in a patch editor.</p></li>
</ul>
</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>How to Add a Function Into a Patch Editor</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="AddingBoxes.html"><span>Adding Boxes Into a Patch</span></a></li>
</ul>
</div>

</div>

</div>

</div>

</div>

<div class="part">

<h2 id="the-two-types-of-functions--om-functions-and-lisp-functions"><span>The Two Types of Functions : OM Functions and Lisp Functions</span></h2>
<div class="part_co">

<div class="infobloc">

<div class="infobloc_ti">

<p><span>OM Functions</span></p>
</div>

<div class="txt">

<table>
<tbody>
<tr class="odd">
<td><span class="iconButton_tim"><img src="../res/fun_icon.png" alt="fun_icon.png"></img></span></td>
<td>OM functions are specifically declared and assigned particular graphical properties : an icon, default inputs, etc. In other words, they have been designed for OM.</td>
</tr>
</tbody>
</table>
</div>

</div>

<div class="infobloc">

<div class="infobloc_ti">

<p><span>Lisp Functions</span></p>
</div>

<div class="txt">

<table>
<tbody>
<tr class="odd">
<td><span class="iconButton_tim"><img src="../res/lispfun_icon.png" alt="lispfun_icon.png"></img></span></td>
<td>Lisp functions are defined in the Lisp standard programming language. Their differ from OM functions by their "LISP" icon.</td>
</tr>
</tbody>
</table>
<p>Most of the time, it is necessary to type the name of such a function to add it in a patch, for Lisp functions are not provided in the OM menus.</p>
<p>However, a set of useful Lisp functions is accessible</p>
<ul>
<li><span> through the <code>Function / OM Kernel / Lisp</code> menu</span></li>
<li><span>in the OM Kernel / Lisp package of the Library.</span></li>
</ul>
</div>

</div>

</div>

</div>

<div class="part">

<h2 id="box-inputs"><span>Box Inputs</span></h2>
<div class="part_co">

<div class="infobloc">

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p>A function box has a number – 0 or more – of inputs, which represent the <span id="i6" class="defRef_ul"><span>arguments</span></span><sup><a href="#kFootBsktc2051"><span>[</span>1<span>]</span></a></sup> of the function.</p>
<p>The inputs of a box initially come with default values. Nevertheless, they do not necessary enable correct computations : their values must be set by the user or be connected to other boxes' outputs.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/OMplus.png" width="178" height="99" alt="An addition with and without the default values of OM+"></img>
</div>
<div class="caption_ti">
An addition with and without the default values of OM+
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>Input Tooltips and Function Documentation</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="BoxInputs.html"><span>Box Inputs</span></a></li>
<li><a href="DocAndInfo.html"><span>Documentation and Info</span></a></li>
</ul>
</div>

</div>

</div>

<div class="bloc note">

<div class="bloc_ti note_ti">

<p><span>Tip : Editing Default Values</span></p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p>Simple input values can be set directly when typing the name of the function box.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<img src="../res/argtip.png" width="182" height="51" alt="argtip.png"></img>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>

</div>

<div class="part">

<h2 id="box-outputs"><span>Box Outputs</span></h2>
<div class="part_co">

<div class="bloc note">

<div class="bloc_ti note_ti">

<p><span>Reminder</span></p>
</div>

<div class="txt">

<p>Box outputs can be evaluated and used for connections with other boxes.</p>
<ul>
<li><span>To evaluate a function box, select it and press <code>v</code>.</span></li>
<li><span> To evaluate a specific output, <code>Cmd</code> click on it.</span></li>
</ul>
<p>The result of the computation is given instantly in the <span id="i7" class="defRef_ul"><span>Listener</span></span><sup><a href="#kFootBsktc1817"><span>[</span>2<span>]</span></a></sup> window.</p>
</div>

</div>

<div class="infobloc">

<div class="infobloc_ti">

<p><span>Multiple outputs</span></p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="caption">
<div class="caption_co">
<img src="../res/twoout.png" width="107" height="157" alt="Om// performs an euclidean division : its first output returns a quotient, its second output returns a rest. The evaluation of the &quot;rest&quot; output necessarily triggers the evaluation of the whole function."></img>
</div>
<div class="caption_ti">
Om// performs an euclidean division : its first output returns a quotient, its second output returns a rest. The evaluation of the "rest" output necessarily triggers the evaluation of the whole function.
</div>
</div></td>
<td><div class="dk_txtRes_txt txt">
<p>A function box may have several outputs, which means that it can return multiple values.</p>
<ul>
<li><span>If the box is evaluated, all the outputs are evaluated, but the Listener prints the result of the first output only. </span></li>
<li><span>If a specific output is evaluated, all the outputs are evaluated, but the Listener prints the results of the chosen output. </span></li>
</ul>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>About Evaluation Specificites</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="Evaluation.html"><span>Evaluation</span></a></li>
</ul>
</div>

</div>

</div>

<div class="bloc note">

<div class="bloc_ti note_ti">

<p><span>Multiple Outputs : Evaluate-Once Mode</span></p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="caption">
<div class="caption_co">
<img src="../res/onceexample.png" width="198" height="159" alt="Om-random returns a random number between a minimum and a maximum value."></img>
</div>
<div class="caption_ti">
Om-random returns a random number between a minimum and a maximum value.
</div>
</div></td>
<td><div class="dk_txtRes_txt txt">
<p>The " <strong>evaluate-once</strong> " mode is generally useful for multiple outputs function boxes : the result of a same evaluation is sent to all connected boxes. Otherwise, each of them will evaluate the function box separately :</p>
<ul>
<li><span>the function can sometimes return a different result each time,</span></li>
<li><span>useless additional computations run.</span></li>
</ul>
<p>Here, in the first case, om-random is on the standard evaluation mode and returns two different results to each input of list, as shown in the text box below. In the second case, it returns the same result.</p>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>More Information about EvalOnce and Other Evaluation Modes</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="EvalModes.html"><span>Evaluation Modes</span></a></li>
</ul>
</div>

</div>

</div>

</div>

</div>

<div class="part">

<h2 id="methods"><span>Methods</span></h2>
<div class="part_co">

<div class="infobloc">

<div class="txt">

<p>In theory, standard Lisp functions are not typed explicitly : their arguments are not predefined, and they are supposed to accept any type of argument. However, internal errors may still occur if the input data is not of the expected type.</p>
<p>On the contrary, most OM functions actually refer to what is known as <span id="i8" class="defRef_ul"><span>generic functions</span></span><sup><a href="#kFootBsktc1960"><span>[</span>3<span>]</span></a></sup>. In <span id="i9" class="defRef_ul"><span>CLOS</span></span><sup><a href="#kFootBsktc2062"><span>[</span>4<span>]</span></a></sup>, a generic function is a kind of "meta" function that applies to several distinct types of <span id="i10" class="defRef_ul"><span>arguments</span></span><sup><a href="#kFootBsktc2051"><span>[</span>1<span>]</span></a></sup> via several <span id="i11" class="defRef_ul"><span>methods</span></span><sup><a href="#kFootBsktc1873"><span>[</span>5<span>]</span></a></sup>. Each method is specialized to adapt the behaviour of the function – the way it operates – to the type of argument it is assigned. Hence, the input data is "filtered" before computation starts and the relevant method is applied to it.</p>
<p>For instance, a generic function "OM+" has set 4 different methods, and is able to receive 1) two numbers, 2) a number + a list, 3) a list + a number, or 4) two lists.</p>
</div>

<div class="txt">

<p>There exist several ways to check which type of argument can be connected to a function :</p>
</div>

<div class="txt">

<ul>
<li>In the Generic Function editor (by double-clicking the function box
<ul>
<li>for OM Generic Functions only)</li>
</ul></li>
</ul>
</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>The Generic Function Editor</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="Method.html"><span>Methods</span></a></li>
</ul>
</div>

</div>

<div class="txt">

<ul>
<li>In the source code finder of the function (typing <code>e</code>)</li>
</ul>
</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>Editing the OM sources</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="Lisp.html"><span>Lisp Programming</span></a></li>
</ul>
</div>

</div>

<div class="txt">

<ul>
<li>(Sometimes) in the reference documentation of the function (typing <code>d</code>)</li>
</ul>
</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>Box Documentation</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="DocAndInfo.html"><span>Documentation and Info</span></a></li>
</ul>
</div>

</div>

</div>

<div class="bloc example">

<div class="bloc_ti example_ti">

<p><span>Calling Methods with Wrong Input Types</span></p>
</div>

<div class="txt">

<p>In a patch, "calling" – using – a generic function with the wrong types of arguments, triggers an error message of the type : "No method is defined for this type of box ...". For instance, this can occur if a function is connected to a data type it cannot accept.</p>
</div>

<div class="txtRes">

<table>
<colgroup>
<col style="width: 50%"></col>
<col style="width: 50%"></col>
</colgroup>
<tbody>
<tr class="odd">
<td><div class="dk_txtRes_txt txt">
<p>Here is a widespread error when using object boxes :</p>
<p>In this example, we want to transpose a chord using OM+. To execute an operation, a function must apply to the right argument : the relevant output must be connected to the function. No method is defined in OM+ for arguments of type chord, so the "self" (1st) ouput of the chord box can not be connected to this function box. The "pitch" output (which returns a list of numbers) should be connected instead.</p>
</div></td>
<td><div class="caption">
<div class="caption_co">
<a href="../res/wrong-args.png" class="overLnk" title="Cliquez pour agrandir"><img src="../res/wrong-args_1.png" width="300" height="217" alt="wrong-args_1.png"></img></a>
</div>
</div></td>
</tr>
</tbody>
</table>

</div>

<div class="linkSet">

<div class="linkSet_ti">

<p><span>Object Box Inputs and Outputs</span></p>
</div>

<div class="linkUL">

<ul>
<li><a href="2-Instanciation.html"><span>Instantiating Objects</span></a></li>
</ul>
</div>

</div>

</div>

</div>

</div>

</div>

</div>

</div>

<p><span class="hidden">Références : </span></p>
<ol>
<li><div id="kFootBsktc2051">

<div class="footBskt_itti">

<p>Argument</p>
</div>

<div class="footBskt_itco">

<div>

<div class="dk_definitionMeta_def">

<p>An argument represents a parameter upon which a function operates. For instance, the (om+ x y) function has two arguments : x and y.</p>
</div>

</div>

</div>

</div>
</li>
<li><div id="kFootBsktc1817">

<div class="footBskt_itti">

<p>Lisp Listener</p>
</div>

<div class="footBskt_itco">

<div>

<div class="dk_definitionMeta_def">

<p>A Lisp communication interface displaying results of computations, warnings or error messages, and where Lisp expressions – programs – can be evaluated.</p>
</div>

</div>

</div>

</div>
</li>
<li><div id="kFootBsktc1960">

<div class="footBskt_itti">

<p>Generic Function</p>
</div>

<div class="footBskt_itco">

<div>

<div class="dk_definitionMeta_def">

<p>In object oriented programming, a generic function is a collection of methods – elementary specialized functions – with the same name and argument structure, but with arguments typed differently.</p>
<p>See also : Method</p>
</div>

</div>

</div>

</div>
</li>
<li><div id="kFootBsktc2062">

<div class="footBskt_itti">

<p>CLOS – Common Lisp Object System –</p>
</div>

<div class="footBskt_itco">

<div>

<div class="dk_definitionMeta_def">

<p>CLOS is an object-oriented programming protocol defined in the Common Lisp language specification. It is based on classes, instances of classes, generic functions and methods to be used in Lisp programs.</p>
<p>See also : Class, Function, Generic Function, Method, Instance.</p>
</div>

</div>

</div>

</div>
</li>
<li><div id="kFootBsktc1873">

<div class="footBskt_itti">

<p>Method</p>
</div>

<div class="footBskt_itco">

<div>

<div class="dk_definitionMeta_def">

<p>An elementary function or part of a generic function defining rules for its behaviour depending on a type of argument. Defining a generic function amounts to defining at least one method.</p>
<p>For instance, the OM+ function is made of four methods : 1. number + list / 2. list + number / 3. number + number / 4. list + list</p>
</div>

</div>

</div>

</div>
</li>
</ol>
</div>

<div id="tplo" class="tplo_out_yes">

<div class="tplOTp">

<div class="tplOBm">

<div id="mnuFrm">

<p><span class="hidden">Plan :</span></p>
<div id="mnuFrmUp" onmouseout="menuScrollTiTask.fSpeed=0;" onmouseover="if(menuScrollTiTask.fSpeed&gt;=0) {menuScrollTiTask.fSpeed=-2; scTiLib.addTaskNow(menuScrollTiTask);}" onclick="menuScrollTiTask.fSpeed-=2;" style="display: none;">

<p><span id="mnuFrmUpLeft"><a href="#"></a></span><span id="mnuFrmUpCenter"></span><span id="mnuFrmUpRight"></span></p>
</div>

<div id="mnuScroll">

<ul>
<li><a href="OM-Documentation.html"><span>OpenMusic Documentation</span></a></li>
<li><a href="OM-User-Manual.html"><span>OM 6.6 User Manual</span></a>
<ul>
<li><a href="00-Sommaire.html"><span>Introduction</span></a></li>
<li><a href="Installation.html"><span>System Configuration and Installation</span></a></li>
<li><a href="Goingthrough.html"><span>Going Through an OM Session</span></a></li>
<li><a href="Environment.html"><span>The OM Environment</span></a></li>
<li><a href="BasicVisualProgramming.html"><span>Visual Programming I</span></a>
<ul>
<li><a href="ProgrammingIntro.html"><span>Patch Introduction</span></a></li>
<li><a href="AddingBoxes.html"><span>Adding Boxes Into a Patch</span></a></li>
<li><a href="ElementaryManips.html"><span>Elementary Manipulations</span></a></li>
<li><a href="Boxes.html"><span>Boxes</span></a>
<ul>
<li><a href="GraphicFeatures.html"><span>Boxes Features</span></a></li>
<li><a href="DataBox.html"><span>Data Boxes</span></a></li>
<li><span id="i12" class="outLeftSel_yes"><span>Function Boxes</span></span></li>
<li><a href="FactoryBoxes.html"><span>Objects – Factory Boxes</span></a></li>
<li><a href="AbsBoxesIntro.html"><span>Abstraction Boxes</span></a></li>
<li><a href="OtherBoxes.html"><span>Other Boxes</span></a></li>
</ul></li>
<li><a href="BoxInputs.html"><span>Box Inputs</span></a></li>
<li><a href="Connections.html"><span>Connections</span></a></li>
<li><a href="Evaluation.html"><span>Evaluation</span></a></li>
<li><a href="DocAndInfo.html"><span>Documentation and Info</span></a></li>
<li><a href="Comments.html"><span>Comments</span></a></li>
<li><a href="Pictures.html"><span>Pictures</span></a></li>
<li><a href="SavingPatch.html"><span>Saving / Reloading a Patch</span></a></li>
<li><a href="DeadBox.html"><span>Dead Boxes</span></a></li>
</ul></li>
<li><a href="AdvancedVisualProgramming.html"><span>Visual Programming II</span></a></li>
<li><a href="BasicObjects.html"><span>Basic Tools</span></a></li>
<li><a href="ScoreObjects.html"><span>Score Objects</span></a></li>
<li><a href="Maquettes.html"><span>Maquettes</span></a></li>
<li><a href="Sheet.html"><span>Sheet</span></a></li>
<li><a href="MIDI.html"><span>MIDI</span></a></li>
<li><a href="Audio.html"><span>Audio</span></a></li>
<li><a href="SDIF.html"><span>SDIF</span></a></li>
<li><a href="Lisp.html"><span>Lisp Programming</span></a></li>
<li><a href="errors.html"><span>Errors and Problems</span></a></li>
</ul></li>
<li><a href="QuickStart-Chapters.html"><span>OpenMusic QuickStart</span></a></li>
</ul>
</div>

<div id="mnuFrmDown" onmouseout="menuScrollTiTask.fSpeed=0;" onmouseover="if(menuScrollTiTask.fSpeed&lt;=0) {menuScrollTiTask.fSpeed=2; scTiLib.addTaskNow(menuScrollTiTask);}" onclick="menuScrollTiTask.fSpeed+=2;" style="display: none;">

<p><span id="mnuFrmDownLeft"><a href="#"></a></span><span id="mnuFrmDownCenter"></span><span id="mnuFrmDownRight"></span></p>
</div>

</div>

</div>

</div>

</div>

<div class="tplNav">

<p><span class="hidden">Navigation : </span><a href="DataBox.html" title="page pr&eacute;c&eacute;dente(Data Boxes)"><span>page précédente</span></a><span class="hidden"> | </span><a href="FactoryBoxes.html" title="page suivante(Objects &ndash; Factory Boxes)"><span>page suivante</span></a></p>
</div>

<div id="tplb">

<p><a href="OM-Documentation_3.html"><span>A propos...</span></a>(c) Ircam - Centre Pompidou</p>
</div>

</div>
</body>
</html>
</!doctype>